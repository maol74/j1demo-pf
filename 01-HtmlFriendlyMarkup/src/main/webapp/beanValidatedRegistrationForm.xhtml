<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pass="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <head jsf:id="head">
        <title>HTML(5) Friendly Markup Samples - Registration Form</title>
        <style type="text/css">.ui-panelgrid td, .ui-panelgrid tr { border-style: none !important }</style>
        <h:outputScript library="js" name="shCoreStaticInclude.js" />
        <h:outputStylesheet library="css" name="SyntaxHighlighterModified.css" />
        <link rel="stylesheet" media="screen,projection,tv" jsf:library="css" jsf:name="image-picker.css" />
        <script type="text/javascript" jsf:library="js" jsf:name="image-picker.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                // Calls the imagePicker plugin on the JSF's h:selectOneMenu component
                $("[name='#{imagePicker.clientId}']").imagepicker();
            });
        </script>
    </head>
    <body jsf:id="body">
        <form jsf:id="registrationForm">
            <p:panel id="panel" header="Registration Form">
                <p:messages id="status"/>
                <p:panelGrid columns="3">
                    <label jsf:for="name">Name:</label>
                    <input jsf:id="name" type="text" jsf:value="#{beanValidatedRegistrationBean.name}">
                        <f:ajax execute="@this" render="nameMessage progress"/>
                    </input>
                    <p:message id="nameMessage" for="name" />

                    <label jsf:for="tel">Telephone:</label>
                    <input jsf:id="tel" type="text" jsf:value="#{beanValidatedRegistrationBean.tel}">
                        <f:ajax execute="@this" render="telMessage progress"/>
                    </input>
                    <p:message id="telMessage" for="tel" />

                    <label jsf:for="email">Email:</label>
                    <input jsf:id="email" type="email" jsf:value="#{beanValidatedRegistrationBean.email}">
                        <f:ajax execute="@this" render="emailMessage progress"/>
                    </input>
                    <p:message id="emailMessage" for="email" />

                    <label jsf:for="email">Avatar:</label>
                    <p:column colspan="2">
                        <h:selectOneMenu binding="#{imagePicker}" value="#{beanValidatedRegistrationBean.avatar}">
                            <!-- Attributes with the the 'pass' prefix are passed to the compiled HTML template -->
                            <f:selectItem pass:data-img-src="#{resource['img/avatar_java.jpg']}" itemValue="avatar_java.jpg"/>
                            <f:selectItem pass:data-img-src="#{resource['img/avatar_netbeans.png']}" itemValue="avatar_netbeans.png"/>
                            <f:selectItem pass:data-img-src="#{resource['img/avatar_primefaces.png']}" itemValue="avatar_primefaces.png"/>
                        </h:selectOneMenu>
                    </p:column>
                    <p:column/>

                    <p:column/>
                    <progress jsf:id="progress" value="#{beanValidatedRegistrationBean.progress}" max="3"/>
                    <p:column/>

                    <p:column/>
                    <p:column>
                        <input jsf:update="panel" jsf:actionListener="#{beanValidatedRegistrationBean.savePerson}" jsf:ajax="true" type="submit" value="Submit" />
                        <input type="button" jsf:value="Back to index" jsf:outcome="index" />
                    </p:column>
                    <p:column/>
                </p:panelGrid>
            </p:panel>

            <br/>
            <br/>
            <p:tabView>
                <p:tab title="xhtml">
                    <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="#" onclick="dp.sh.Toolbar.Command('ViewSource',this);return false;">view plain</a><a href="#" onclick="dp.sh.Toolbar.Command('CopyToClipboard',this);return false;">copy to clipboard</a><a href="#" onclick="dp.sh.Toolbar.Command('PrintSource',this);return false;">print</a><a href="#" onclick="dp.sh.Toolbar.Command('About',this);return false;">?</a></div></div><ol class="dp-xml" start="1"><li class="alt"><span><span class="tag">&lt;</span><span class="tag-name">p:panelGrid</span><span>&nbsp;</span><span class="attribute">columns</span><span>=</span><span class="attribute-value">"3"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">label</span><span>&nbsp;</span><span class="attribute">jsf:for</span><span>=</span><span class="attribute-value">"name"</span><span class="tag">&gt;</span><span>Name:</span><span class="tag">&lt;/</span><span class="tag-name">label</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">input</span><span>&nbsp;</span><span class="attribute">jsf:id</span><span>=</span><span class="attribute-value">"name"</span><span>&nbsp;</span><span class="attribute">type</span><span>=</span><span class="attribute-value">"text"</span><span>&nbsp;</span><span class="attribute">jsf:value</span><span>=</span><span class="attribute-value">"\#{beanValidatedRegistrationBean.name}"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">f:ajax</span><span>&nbsp;</span><span class="attribute">execute</span><span>=</span><span class="attribute-value">"@this"</span><span>&nbsp;</span><span class="attribute">render</span><span>=</span><span class="attribute-value">"nameMessage&nbsp;progress"</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">input</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:message</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"nameMessage"</span><span>&nbsp;</span><span class="attribute">for</span><span>=</span><span class="attribute-value">"name"</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">label</span><span>&nbsp;</span><span class="attribute">jsf:for</span><span>=</span><span class="attribute-value">"tel"</span><span class="tag">&gt;</span><span>Telephone:</span><span class="tag">&lt;/</span><span class="tag-name">label</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">input</span><span>&nbsp;</span><span class="attribute">jsf:id</span><span>=</span><span class="attribute-value">"tel"</span><span>&nbsp;</span><span class="attribute">type</span><span>=</span><span class="attribute-value">"text"</span><span>&nbsp;</span><span class="attribute">jsf:value</span><span>=</span><span class="attribute-value">"\#{beanValidatedRegistrationBean.tel}"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">f:ajax</span><span>&nbsp;</span><span class="attribute">execute</span><span>=</span><span class="attribute-value">"@this"</span><span>&nbsp;</span><span class="attribute">render</span><span>=</span><span class="attribute-value">"telMessage&nbsp;progress"</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">input</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:message</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"telMessage"</span><span>&nbsp;</span><span class="attribute">for</span><span>=</span><span class="attribute-value">"tel"</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">label</span><span>&nbsp;</span><span class="attribute">jsf:for</span><span>=</span><span class="attribute-value">"email"</span><span class="tag">&gt;</span><span>Email:</span><span class="tag">&lt;/</span><span class="tag-name">label</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">input</span><span>&nbsp;</span><span class="attribute">jsf:id</span><span>=</span><span class="attribute-value">"email"</span><span>&nbsp;</span><span class="attribute">type</span><span>=</span><span class="attribute-value">"email"</span><span>&nbsp;</span><span class="attribute">jsf:value</span><span>=</span><span class="attribute-value">"\#{beanValidatedRegistrationBean.email}"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">f:ajax</span><span>&nbsp;</span><span class="attribute">execute</span><span>=</span><span class="attribute-value">"@this"</span><span>&nbsp;</span><span class="attribute">render</span><span>=</span><span class="attribute-value">"emailMessage&nbsp;progress"</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">input</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:message</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"emailMessage"</span><span>&nbsp;</span><span class="attribute">for</span><span>=</span><span class="attribute-value">"email"</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">label</span><span>&nbsp;</span><span class="attribute">jsf:for</span><span>=</span><span class="attribute-value">"email"</span><span class="tag">&gt;</span><span>Avatar:</span><span class="tag">&lt;/</span><span class="tag-name">label</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:column</span><span>&nbsp;</span><span class="attribute">colspan</span><span>=</span><span class="attribute-value">"2"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">h:selectOneMenu</span><span>&nbsp;</span><span class="attribute">binding</span><span>=</span><span class="attribute-value">"\#{imagePicker}"</span><span>&nbsp;</span><span class="attribute">value</span><span>=</span><span class="attribute-value">"\#{beanValidatedRegistrationBean.avatar}"</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments">&lt;!--&nbsp;Attributes&nbsp;with&nbsp;the&nbsp;the&nbsp;'pass'&nbsp;prefix&nbsp;are&nbsp;passed&nbsp;to&nbsp;the&nbsp;compiled&nbsp;HTML&nbsp;template&nbsp;--&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">f:selectItem</span><span>&nbsp;</span><span class="attribute">pass:data-img-src</span><span>=</span><span class="attribute-value">"\#{resource['img/avatar_java.jpg']}"</span><span>&nbsp;</span><span class="attribute">itemValue</span><span>=</span><span class="attribute-value">"avatar_java.jpg"</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">f:selectItem</span><span>&nbsp;</span><span class="attribute">pass:data-img-src</span><span>=</span><span class="attribute-value">"\#{resource['img/avatar_netbeans.png']}"</span><span>&nbsp;</span><span class="attribute">itemValue</span><span>=</span><span class="attribute-value">"avatar_netbeans.png"</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">f:selectItem</span><span>&nbsp;</span><span class="attribute">pass:data-img-src</span><span>=</span><span class="attribute-value">"\#{resource['img/avatar_primefaces.png']}"</span><span>&nbsp;</span><span class="attribute">itemValue</span><span>=</span><span class="attribute-value">"avatar_primefaces.png"</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">h:selectOneMenu</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">p:column</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:column</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:column</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">progress</span><span>&nbsp;</span><span class="attribute">jsf:id</span><span>=</span><span class="attribute-value">"progress"</span><span>&nbsp;</span><span class="attribute">value</span><span>=</span><span class="attribute-value">"\#{baseRegistrationBean.progress}"</span><span>&nbsp;</span><span class="attribute">max</span><span>=</span><span class="attribute-value">"3"</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:column</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:column</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:column</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">input</span><span>&nbsp;</span><span class="attribute">jsf:update</span><span>=</span><span class="attribute-value">"panel"</span><span>&nbsp;</span><span class="attribute">jsf:actionListener</span><span>=</span><span class="attribute-value">"\#{beanValidatedRegistrationBean.savePerson}"</span><span>&nbsp;</span><span class="attribute">jsf:ajax</span><span>=</span><span class="attribute-value">"true"</span><span>&nbsp;</span><span class="attribute">type</span><span>=</span><span class="attribute-value">"submit"</span><span>&nbsp;</span><span class="attribute">value</span><span>=</span><span class="attribute-value">"Submit"</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">input</span><span>&nbsp;</span><span class="attribute">type</span><span>=</span><span class="attribute-value">"button"</span><span>&nbsp;</span><span class="attribute">jsf:value</span><span>=</span><span class="attribute-value">"Back&nbsp;to&nbsp;index"</span><span>&nbsp;</span><span class="attribute">jsf:outcome</span><span>=</span><span class="attribute-value">"index"</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/</span><span class="tag-name">p:column</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;</span><span class="tag-name">p:column</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="tag">&lt;/</span><span class="tag-name">p:panelGrid</span><span class="tag">&gt;</span><span>&nbsp;&nbsp;</span></span></li></ol><textarea style="display:none;" class="originalCode">&lt;p:panelGrid columns="3"&gt;
                        &lt;label jsf:for="name"&gt;Name:&lt;/label&gt;
                        &lt;input jsf:id="name" type="text" jsf:value="\#{beanValidatedRegistrationBean.name}"&gt;
                            &lt;f:ajax execute="@this" render="nameMessage progress"/&gt;
                        &lt;/input&gt;
                        &lt;p:message id="nameMessage" for="name" /&gt;

                        &lt;label jsf:for="tel"&gt;Telephone:&lt;/label&gt;
                        &lt;input jsf:id="tel" type="text" jsf:value="\#{beanValidatedRegistrationBean.tel}"&gt;
                            &lt;f:ajax execute="@this" render="telMessage progress"/&gt;
                        &lt;/input&gt;
                        &lt;p:message id="telMessage" for="tel" /&gt;

                        &lt;label jsf:for="email"&gt;Email:&lt;/label&gt;
                        &lt;input jsf:id="email" type="email" jsf:value="\#{beanValidatedRegistrationBean.email}"&gt;
                            &lt;f:ajax execute="@this" render="emailMessage progress"/&gt;
                        &lt;/input&gt;
                        &lt;p:message id="emailMessage" for="email" /&gt;

                        &lt;label jsf:for="email"&gt;Avatar:&lt;/label&gt;
                        &lt;p:column colspan="2"&gt;
                            &lt;h:selectOneMenu binding="\#{imagePicker}" value="\#{beanValidatedRegistrationBean.avatar}"&gt;
                                &lt;!-- Attributes with the the 'pass' prefix are passed to the compiled HTML template --&gt;
                                &lt;f:selectItem pass:data-img-src="\#{resource['img/avatar_java.jpg']}" itemValue="avatar_java.jpg"/&gt;
                                &lt;f:selectItem pass:data-img-src="\#{resource['img/avatar_netbeans.png']}" itemValue="avatar_netbeans.png"/&gt;
                                &lt;f:selectItem pass:data-img-src="\#{resource['img/avatar_primefaces.png']}" itemValue="avatar_primefaces.png"/&gt;
                            &lt;/h:selectOneMenu&gt;
                        &lt;/p:column&gt;
                        &lt;p:column/&gt;

                        &lt;p:column/&gt;
                        &lt;progress jsf:id="progress" value="\#{beanValidatedRegistrationBean.progress}" max="3"/&gt;
                        &lt;p:column/&gt;

                        &lt;p:column/&gt;
                        &lt;p:column&gt;
                            &lt;input jsf:update="panel" jsf:actionListener="\#{beanValidatedRegistrationBean.savePerson}" jsf:ajax="true" type="submit" value="Submit" /&gt;
                            &lt;input type="button" jsf:value="Back to index" jsf:outcome="index" /&gt;
                        &lt;/p:column&gt;
                        &lt;p:column/&gt;
                    &lt;/p:panelGrid&gt;</textarea></div>
                </p:tab>
                <p:tab title="BeanValidatedRegistrationBean.java">
                    <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="#" onclick="dp.sh.Toolbar.Command('ViewSource',this);return false;">view plain</a><a href="#" onclick="dp.sh.Toolbar.Command('CopyToClipboard',this);return false;">copy to clipboard</a><a href="#" onclick="dp.sh.Toolbar.Command('PrintSource',this);return false;">print</a><a href="#" onclick="dp.sh.Toolbar.Command('About',this);return false;">?</a></div></div><ol class="dp-j" start="1"><li class="alt"><span><span class="keyword">package</span><span>&nbsp;javaone.con3638.htmlfriendlymarkup.bv;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="keyword">import</span><span>&nbsp;java.io.Serializable;&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">import</span><span>&nbsp;java.text.MessageFormat;&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">import</span><span>&nbsp;java.util.ResourceBundle;&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">import</span><span>&nbsp;javax.enterprise.context.SessionScoped;&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">import</span><span>&nbsp;javax.faces.application.FacesMessage;&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">import</span><span>&nbsp;javax.faces.context.FacesContext;&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">import</span><span>&nbsp;javax.inject.Named;&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">import</span><span>&nbsp;javax.validation.constraints.Pattern;&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">import</span><span>&nbsp;javax.validation.constraints.Size;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="annotation">@Named</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="annotation">@SessionScoped</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">class</span><span>&nbsp;BeanValidatedRegistrationBean&nbsp;</span><span class="keyword">implements</span><span>&nbsp;Serializable&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;We&nbsp;are&nbsp;showing&nbsp;localized&nbsp;Bean&nbsp;Validation&nbsp;messages.&nbsp;Take&nbsp;a&nbsp;look&nbsp;inside&nbsp;the&nbsp;main/resources&nbsp;directory.</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Size</span><span>(min&nbsp;=&nbsp;</span><span class="number">1</span><span>,&nbsp;message&nbsp;=&nbsp;</span><span class="string">"{NameMandatory}"</span><span>)&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;String&nbsp;name;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Size</span><span>(min&nbsp;=&nbsp;</span><span class="number">1</span><span>,&nbsp;message&nbsp;=&nbsp;</span><span class="string">"{TelephoneMandatory}"</span><span>)&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Pattern</span><span>(regexp&nbsp;=&nbsp;</span><span class="string">"[0-9]+"</span><span>,&nbsp;message&nbsp;=&nbsp;</span><span class="string">"{TelephoneNotNumber}"</span><span>)&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;String&nbsp;tel;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Size</span><span>(min&nbsp;=&nbsp;</span><span class="number">1</span><span>,&nbsp;message&nbsp;=&nbsp;</span><span class="string">"{EmailMandatory}"</span><span>)&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Custom&nbsp;simple&nbsp;Bean&nbsp;Validation&nbsp;rule</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Email</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;String&nbsp;email;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation">@Size</span><span>(min&nbsp;=&nbsp;</span><span class="number">1</span><span>,&nbsp;message&nbsp;=&nbsp;</span><span class="string">"{AvatarMandatory}"</span><span>)&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private</span><span>&nbsp;String&nbsp;avatar;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;String&nbsp;getName()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;name;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;setName(String&nbsp;name)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>.name&nbsp;=&nbsp;name;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;String&nbsp;getTel()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;tel;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;setTel(String&nbsp;tel)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>.tel&nbsp;=&nbsp;tel;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;String&nbsp;getEmail()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;email;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;setEmail(String&nbsp;email)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>.email&nbsp;=&nbsp;email;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;String&nbsp;getAvatar()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;avatar;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;setAvatar(String&nbsp;avatar)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">this</span><span>.avatar&nbsp;=&nbsp;avatar;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;String&nbsp;getProgress()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">int</span><span>&nbsp;progress&nbsp;=&nbsp;</span><span class="number">0</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(getName()&nbsp;!=&nbsp;</span><span class="keyword">null</span><span>&nbsp;&amp;&amp;&nbsp;!getName().isEmpty())&nbsp;progress++;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(getTel()&nbsp;!=&nbsp;</span><span class="keyword">null</span><span>&nbsp;&amp;&amp;&nbsp;!getTel().isEmpty())&nbsp;progress++;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>&nbsp;(getEmail()&nbsp;!=&nbsp;</span><span class="keyword">null</span><span>&nbsp;&amp;&amp;&nbsp;!getEmail().isEmpty())&nbsp;progress++;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span><span>&nbsp;String.valueOf(progress);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;savePerson()&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;confirmation&nbsp;=&nbsp;MessageFormat.format(&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ResourceBundle.getBundle(<span class="string">"Bundle"</span><span>).getString(</span><span class="string">"successfulRegistration"</span><span>),&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getName());&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FacesContext.getCurrentInstance().addMessage(<span class="string">"status"</span><span>,&nbsp;</span><span class="keyword">new</span><span>&nbsp;FacesMessage(confirmation));&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;save&nbsp;to&nbsp;DB</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reset();&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span><span>&nbsp;</span><span class="keyword">void</span><span>&nbsp;reset()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setName(<span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setTel(<span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setEmail(<span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol><textarea style="display:none;" class="originalCode">package javaone.con3638.htmlfriendlymarkup.bv;
                        import java.io.Serializable;
                        import java.text.MessageFormat;
                        import java.util.ResourceBundle;
                        import javax.enterprise.context.SessionScoped;
                        import javax.faces.application.FacesMessage;
                        import javax.faces.context.FacesContext;
                        import javax.inject.Named;
                        import javax.validation.constraints.Pattern;
                        import javax.validation.constraints.Size;

                        @Named
                        @SessionScoped
                        public class BeanValidatedRegistrationBean implements Serializable {

                            // We are showing localized Bean Validation messages. Take a look inside the main/resources directory.
                            @Size(min = 1, message = "{NameMandatory}")
                            private String name;

                            @Size(min = 1, message = "{TelephoneMandatory}")
                            @Pattern(regexp = "[0-9]+", message = "{TelephoneNotNumber}")
                            private String tel;

                            @Size(min = 1, message = "{EmailMandatory}")
                            // Custom simple Bean Validation rule
                            @Email
                            private String email;

                            @Size(min = 1, message = "{AvatarMandatory}")
                            private String avatar;

                            public String getName() {
                                return name;
                            }

                            public void setName(String name) {
                                this.name = name;
                            }

                            public String getTel() {
                                return tel;
                            }

                            public void setTel(String tel) {
                                this.tel = tel;
                            }

                            public String getEmail() {
                                return email;
                            }

                            public void setEmail(String email) {
                                this.email = email;
                            }

                            public String getAvatar() {
                                return avatar;
                            }

                            public void setAvatar(String avatar) {
                                this.avatar = avatar;
                            }

                            public String getProgress() {
                                int progress = 0;
                                if (getName() != null &amp;&amp; !getName().isEmpty()) progress++;
                                if (getTel() != null &amp;&amp; !getTel().isEmpty()) progress++;
                                if (getEmail() != null &amp;&amp; !getEmail().isEmpty()) progress++;
                                return String.valueOf(progress);
                            }

                            public void savePerson() {
                                String confirmation = MessageFormat.format(
                                        ResourceBundle.getBundle("Bundle").getString("successfulRegistration"),
                                        getName());
                                FacesContext.getCurrentInstance().addMessage("status", new FacesMessage(confirmation));
                                // save to DB
                                reset();
                            }

                            public void reset() {
                                setName(null);
                                setTel(null);
                                setEmail(null);
                            }

                        }
                        </textarea></div>
                </p:tab>
                <p:tab title="Email.java">
                    <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="#" onclick="dp.sh.Toolbar.Command('ViewSource',this);return false;">view plain</a><a href="#" onclick="dp.sh.Toolbar.Command('CopyToClipboard',this);return false;">copy to clipboard</a><a href="#" onclick="dp.sh.Toolbar.Command('PrintSource',this);return false;">print</a><a href="#" onclick="dp.sh.Toolbar.Command('About',this);return false;">?</a></div></div><ol class="dp-j" start="1"><li class="alt"><span><span class="keyword">package</span><span>&nbsp;javaone.con3638.htmlfriendlymarkup.bv;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="keyword">import</span><span>&nbsp;java.lang.annotation.ElementType;&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">import</span><span>&nbsp;java.lang.annotation.Retention;&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">import</span><span>&nbsp;java.lang.annotation.RetentionPolicy;&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">import</span><span>&nbsp;java.lang.annotation.Target;&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">import</span><span>&nbsp;javax.validation.Constraint;&nbsp;&nbsp;</span></span></li><li class=""><span><span class="keyword">import</span><span>&nbsp;javax.validation.Payload;&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">import</span><span>&nbsp;javax.validation.constraints.Pattern;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span><span class="annotation">@Constraint</span><span>(validatedBy&nbsp;=&nbsp;{})&nbsp;&nbsp;</span></span></li><li class=""><span><span class="annotation">@Pattern</span><span>(regexp=</span><span class="string">"^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"</span><span>,&nbsp;message&nbsp;=&nbsp;</span><span class="string">"Invalid&nbsp;email&nbsp;format"</span><span>)&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="annotation">@Target</span><span>({ElementType.METHOD,&nbsp;ElementType.FIELD,&nbsp;ElementType.ANNOTATION_TYPE})&nbsp;&nbsp;</span></span></li><li class=""><span><span class="annotation">@Retention</span><span>(RetentionPolicy.RUNTIME)&nbsp;&nbsp;</span></span></li><li class="alt"><span><span class="keyword">public</span><span>&nbsp;</span><span class="keyword">@interface</span><span>&nbsp;Email&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;message()&nbsp;<span class="keyword">default</span><span>&nbsp;</span><span class="string">""</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;Class&lt;?&gt;[]&nbsp;groups()&nbsp;<span class="keyword">default</span><span>&nbsp;{};&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;Class&lt;?&nbsp;<span class="keyword">extends</span><span>&nbsp;Payload&gt;[]&nbsp;payload()&nbsp;</span><span class="keyword">default</span><span>&nbsp;{};&nbsp;&nbsp;</span></span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol><textarea style="display:none;" class="originalCode">package javaone.con3638.htmlfriendlymarkup.bv;
                        import java.lang.annotation.ElementType;
                        import java.lang.annotation.Retention;
                        import java.lang.annotation.RetentionPolicy;
                        import java.lang.annotation.Target;
                        import javax.validation.Constraint;
                        import javax.validation.Payload;
                        import javax.validation.constraints.Pattern;

                        @Constraint(validatedBy = {})
                        @Pattern(regexp="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$", message = "Invalid email format")
                        @Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE})
                        @Retention(RetentionPolicy.RUNTIME)
                        public @interface Email {

                            String message() default "";

                            Class&lt;?&gt;[] groups() default {};

                            Class&lt;? extends Payload&gt;[] payload() default {};
                        }</textarea></div>
                </p:tab>
            </p:tabView>
        </form>
    </body>
</html>

